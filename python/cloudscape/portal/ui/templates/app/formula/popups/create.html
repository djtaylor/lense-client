{# Create Formula #}
<div class="popup_content" type="popup" target="formula.create">
	<div class="popup_title">Create Formula</div>
	<div class="popup_body">
		<div class="popup_desc">
			Create a new formula used for deploying applications and running utilities. A 'service' formula
			is run once per server and installs an application. The formula name should only contains the 
			following characters: 'a-z', '0-9', '.', or '_'.
			<div class="popup_desc_list_title">Formula Run Types:</div>
			<div class="popup_desc_list_entry"><strong>Internal</strong>: Formula can only be run internal by the API</div>
			<div class="popup_desc_list_title">Formula Types:</div>
			<div class="popup_desc_list_entry"><strong>Utility</strong>: Run a utility package on a single server</div>
			<div class="popup_desc_list_entry"><strong>Service</strong>: Install an application on a single server</div>
			<div class="popup_desc_list_entry"><strong>Group</strong>: Deploy a formula group on multiple servers</div>
		</div>
		<form id="create_formula">
		
			{# Formula Name #}
			<div class="popup_row">
				<div class="popup_row_label">Name:</div>
				<div class="popup_row_input">
					<input type="text" form="create_formula" name="name" value="" validate="formula_name" required />
					<div class="form_input_icon_def" type="icon" form="create_formula" name="name"></div>
				</div>
			</div>
			
			{# Formula Label #}
			<div class="popup_row">
				<div class="popup_row_label">Label:</div>
				<div class="popup_row_input">
					<input type="text" form="create_formula" name="label" validate="formula_label" value="" required />
					<div class="form_input_icon_def" type="icon" form="create_formula" name="label"></div>
				</div>
			</div>
			
			{# Formula Description #}
			<div class="popup_row">
				<div class="popup_row_label">Description:</div>
				<div class="popup_row_input">
					<input type="text" form="create_formula" name="desc" validate="formula_desc" value="" required />
					<div class="form_input_icon_def" type="icon" form="create_formula" name="desc"></div>
				</div>
			</div>
			
			{# Formula Type #}
			<div class="popup_row">
				<div class="popup_row_label">Type:</div>
				<div class="popup_row_radio_group">
					<div class="popup_row_radio_opt">
						<div class="popup_row_radio_box">
							<input type="radio" form="create_formula" name="type" value="service" checked />
						</div>
						<div class="popup_row_radio_label">Service</div>
					</div>
					<div class="popup_row_radio_opt">
						<div class="popup_row_radio_box">
							<input type="radio" form="create_formula" name="type" value="utility" />
						</div>
						<div class="popup_row_radio_label">Utility</div>
					</div>
					<div class="popup_row_radio_opt">
						<div class="popup_row_radio_box">
							<input type="radio" form="create_formula" name="type" value="group" />
						</div>
						<div class="popup_row_radio_label">Group</div>
					</div>
				</div>
			</div>
			
			{# Internal Formula #}
			<div class="popup_row">
				<div class="popup_row_label">Internal:</div>
				<div class="popup_row_radio_group">
					<div class="popup_row_radio_opt">
						<div class="popup_row_radio_box">
							<input type="radio" form="create_formula" name="internal" value="bool:true">
						</div>
						<div class="popup_row_radio_label">Yes</div>
					</div>
					<div class="popup_row_radio_opt">
						<div class="popup_row_radio_box">
							<input type="radio" form="create_formula" name="internal" value="bool:false" checked>
						</div>
						<div class="popup_row_radio_label">No</div>
					</div>
				</div>
			</div>
			
			{# API Action / Path / Method #}
			<input type="hidden" form="create_formula" name="action" value="create" noreset>
			<input type="hidden" form="create_formula" name="path" value="formula" noreset>
			<input type="hidden" form="create_formula" name="method" value="post" noreset>
			<input type="hidden" form="create_formula" name="callback" value="formula.create" noreset>
			
			{# Form Validation Response #}
			<div class="form_response" type="response" target="#create_formula"></div>
		</form>
		
		{# Submit API Request #}
		<div class="popup_submit" type="button" action="method" target="api.submit" arg="create_formula">Create Formula</div>
	</div>
</div>